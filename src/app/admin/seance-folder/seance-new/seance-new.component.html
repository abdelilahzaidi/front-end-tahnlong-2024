<div class="container mt-5 mb-5">
  <div class="card col-md-6 offset-3">
    <div class="card-header bg-primary">
      <h3 style="color: white" class="text-center">Seance</h3>
    </div>
    <div class="card-body text-danger" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    <form [formGroup]="seanceForm" (ngSubmit)="submit()">
      <div class="row m-5">
        <div class="col-md-6">

          <!-- Sélecteur d'année -->
          <div>
            <label for="year" class="form-label">Année</label>
            <select class="form-control" id="year" (change)="onYearChange($event)">
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>

          <!-- Sélecteur de mois -->
          <div>
            <label for="month" class="form-label">Mois</label>
            <select class="form-control" id="month" (change)="onMonthChange($event)">
              <option value="" disabled selected>Sélectionner un mois</option>
              <option *ngFor="let month of months" [value]="month.value">{{ month.name }}</option>
            </select>
          </div>

          <!-- Sélecteur de date du cour -->
          <div>
            <label for="idDateCour" class="form-label">Date du cour</label>
            <select class="form-control" formControlName="idDateCour" id="idDateCour" required>
              <option *ngFor="let date of filteredDates" [ngValue]="date.id">{{ date.formattedDate }}</option>
            </select>
          </div>

          <!-- Sélecteur d'horaire -->
          <div>
            <label for="idHoraire" class="form-label">Horaire</label>
            <select class="form-control" formControlName="idHoraire" id="idHoraire" required>
              <option *ngFor="let horaire of horaires" [ngValue]="horaire.id">{{ horaire.heureDebut }} - {{ horaire.heureFin }} ({{ horaire.jour }})</option>
            </select>
          </div>

          <!-- Sélecteur de cour -->
          <div>
            <label for="idCour" class="form-label">Cour</label>
            <select class="form-control" formControlName="idCour" id="idCour" required>
              <option *ngFor="let cour of cours" [ngValue]="cour.id">{{ cour.objectifDuCour }} - {{ cour.lieu.ville }}</option>
            </select>
          </div>

          <div class="d-flex justify-content-center align-items-center mt-3">
            <div style="display: flex">
              <button
                type="submit"
                class="btn btn-primary"
                data-bs-container="body"
                data-bs-toggle="popover"
                data-bs-placement="bottom"
                data-bs-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus."
                data-bs-original-title="Popover Title"
                aria-describedby="popover344544"
              >
                Submit form
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
