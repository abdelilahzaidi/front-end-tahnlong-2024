<!-- <div class="container mt-5 mb-5">
  <div class="card col-md-6 offset-3">
    <div class="card-header bg-primary">
      <h3 style="color: white" class="text-center">Créer une facture</h3>
    </div>
    <div class="card-body text-danger" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    <form [formGroup]="factureForm" (ngSubmit)="submit()">
      <div class="row m-5">
        <div class="col-md-6">
          <div>
            <label for="idDateEnvoie" class="form-label">Date d'envoie de la facture</label>
            <input type="date" class="form-control" formControlName="idDateEnvoie" id="idDateEnvoie" required />
          </div>
          <div>
            <label for="idEtat" class="form-label">Etat de paiement</label>
            <input type="text" class="form-control" formControlName="idEtat" id="idEtat" value="false" required />
          </div>
          <div>
            <label for="idAbonnement" class="form-label">Type d'abonnement</label>
            <select class="form-control" formControlName="idAbonnement" id="idAbonnement" (change)="onAbonnementChange($event)" required>
              <option value="" disabled selected>Sélectionner un abonnement</option>
              <option *ngFor="let abonnement of abonnements" [value]="abonnement.id">{{ abonnement.type }}</option>
            </select>
          </div>
          <div>
            <label for="idMontant" class="form-label">Montant</label>
            <input type="text" class="form-control" formControlName="idMontant" id="idMontant" />
          </div>
          <div class="d-flex justify-content-center align-items-center mt-3">
            <button type="submit" class="btn btn-primary">Submit form</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div> -->


<div class="container mt-5 mb-5">
  <div class="card col-md-6 offset-3">
    <div class="card-header bg-primary">
      <h3 style="color: white" class="text-center">Créer une Facture Mensuelle</h3>
    </div>

    <!-- Message d'erreur si nécessaire -->
    <div class="card-body text-danger" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <!-- Message de succès -->
    <div class="card-body text-success" *ngIf="notificationMessage">
      {{ notificationMessage }}
    </div>

    <form [formGroup]="factureForm" (ngSubmit)="submit()">
      <div class="row m-5">
        <div class="col-md-6">
          <div>
            <label for="idDateEnvoie" class="form-label">Date d'envoie de la facture</label>
            <input type="date" class="form-control" formControlName="idDateEnvoie" id="idDateEnvoie" required />
          </div>
          <div>
            <label for="idEtat" class="form-label">Etat de paiement</label>
            <input type="text" class="form-control" formControlName="idEtat" id="idEtat" value="false" required />
          </div>
          <div>
            <label for="idAbonnement" class="form-label">Type d'abonnement</label>
            <select class="form-control" formControlName="idAbonnement" id="idAbonnement" (change)="onAbonnementChange($event)" required>
              <option value="" disabled selected>Sélectionner un abonnement</option>
              <option *ngFor="let abonnement of abonnements" [value]="abonnement.id">{{ abonnement.type }}</option>
            </select>
          </div>
          <div>
            <label for="idMontant" class="form-label">Montant</label>
            <input type="text" class="form-control" formControlName="idMontant" id="idMontant" />
          </div>
          <div class="d-flex justify-content-center align-items-center mt-3">
            <button type="submit" class="btn btn-primary">Submit form</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>































<!-- <div class="container mt-5 mb-5">
  <div class="card col-md-6 offset-3">
    <div class="card-header bg-primary">
      <h3 style="color: white" class="text-center">Créer une facture</h3>
    </div>
    <div class="card-body text-danger" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    <form [formGroup]="factureCreateForm" (ngSubmit)="submit()">
      <div class="row m-5">
        <div class="col-md-6">
          <div>
            <label for="date_envoie" class="form-label">Date d'envoie de la facture</label>
            <input
              type="date"
              class="form-control"
              formControlName="idDateEnvoie"
              id="idDateEnvoie"
              required
            />
          </div>
          <div>
            <label for="type_abonnement" class="form-label">Type d'abonnement</label>
            <select
              class="form-select"
              id="type_abonnement"
              formControlName="type_abonnement"
              placeholder="Sélectionnez un type d'abonnement"
              required

            >
              <option *ngFor="let type of types">
                {{ type.type }}
              </option>
            </select>
          </div>


          <div *ngIf="users.length > 0">
            <h3>Utilisateurs</h3>
            <ul>
              <li *ngFor="let user of users">
                {{ user.first_name }} {{ user.last_name }}
              </li>
            </ul>
          </div>
          <div
            *ngIf="factureCreateForm.get('type_abonnement')?.errors?.['required']"
            class="text-danger"
          >
            Le type d'abonnement est requis.
          </div>
          <div class="d-flex justify-content-center align-items-center mt-3">
            <div style="display: flex">
              <button
                type="submit"
                class="btn btn-primary"
                data-bs-container="body"
                data-bs-toggle="popover"
                data-bs-placement="bottom"
                data-bs-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus."
                data-bs-original-title="Popover Title"
                aria-describedby="popover344544"
              >
                Submit form
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div> -->
